} else if(time_format == "mm/dd/yyyy"){
data$Date <- as.Date(data$Date, format = "%m/%d/%Y")
}
else if(time_format == "yyyy-Qq"){
# data$Date <- as.Date(data$Date, format = "%m/%d/%Y")
}
variables = value_variables[base_name]
variable_names = value_names[base_name]
if(typeof(variables)=="list"){
variables <- unlist(value_variables[base_name], use.names=FALSE)
variable_names <- unlist(value_names[base_name], use.names=FALSE)
}
variables <- make.names(variables)
data <- data[c("Country","Date",variables)]
colnames(data) <- c("Country","Date",variable_names)
print(base_name)
str(data)
df <- merge(x = df, y = data, by = c("Country", "Date"), all = TRUE)
}
}
df$stock_change
write.csv(stock_data,"./data/Stock_data.csv", row.names = FALSE)
unique(df$stock_change)
write.csv(df,"./data/all_data.csv", row.names = FALSE)
data <- read.csv(file = "./data/all_data.csv", stringsAsFactors = FALSE)
unique(data$Country)
usa_data <- data %>%
filter(Country == "USA") %>%
filter(!is.na(Date)) %>%
arrange(Date) %>%
select(Date, stringency_index, stock_change, retail_and_recreation)
colnames(usa_data)
View(usa_data)
View(usa_data)
View(country_data)
View(stock_data)
stock_data %>%
filter(Country == "USA")
unique(df$stock_change)
df2 <- df
df2 <- df2 %>%
filter(Date >= "2019-01-01")
df2 <- df
df2 <- df2 %>%
filter(Date >= "2019-01-01" & Data < "2021-01-01")
df2 <- df2 %>%
filter(Date >= "2019-01-01" & Date < "2021-01-01")
View(df2)
df <- data.frame(Country = character(), Date = character(), stringsAsFactors = FALSE)
df$Date <- as.Date(df$Date)
data <- read.csv(file = './data/Stock_data.csv', stringsAsFactors = FALSE)
df <- merge(x = df, y = data, by = c("Country", "Date"), all = TRUE)
View(df)
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
data <- data %>%
rename(iso_code = Country) %>%
rename(date = Date)
data <- data %>%
rename(Country = iso_code) %>%
rename(Date = date)
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
data <- data %>%
rename(Country = iso_code) %>%
rename(Date = date)
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
rename(data, Country = iso_code)
rename(data, Date = date)
# Load Packages  ----------------------------------------------------------
library(tidyverse)
df <- data.frame(Country = character(), Date = character(), stringsAsFactors = FALSE)
df$Date <- as.Date(df$Date)
data <- read.csv(file = './data/Stock_data.csv', stringsAsFactors = FALSE)
df <- merge(x = df, y = data, by = c("Country", "Date"), all = TRUE)
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
rename(data, Country = iso_code)
library(dplyr)
dplyr::rename(data, Country = iso_code)
View(data)
data <- data %>%
mutate(Country = iso_code) %>%
mutate(Date = date)
View(data)
df <- merge(x = df, y = data, by = c("Country", "Date"), all = TRUE)
data <- data %>%
mutate(Country = iso_code) %>%
mutate(Date = as.Date(date))
df <- data.frame(Country = character(), Date = character(), stringsAsFactors = FALSE)
df$Date <- as.Date(df$Date)
data <- read.csv(file = './data/Stock_data.csv', stringsAsFactors = FALSE)
df <- merge(x = df, y = data, by = c("Country", "Date"), all = TRUE)
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
data <- data %>%
mutate(Country = iso_code) %>%
mutate(Date = as.Date(date))
df <- merge(x = df, y = data, by = c("Country", "Date"), all = TRUE)
View(df)
data <- read.csv(file = './data/Stock_data.csv', stringsAsFactors = FALSE)
View(data)
df <- data.frame(Country = character(), Date = character(), stringsAsFactors = FALSE)
df$Date <- as.Date(df$Date)
data <- read.csv(file = './data/Stock_data.csv', stringsAsFactors = FALSE)
df <- merge(x = df, y = data, by = c("Country", "Date"), all = TRUE)
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = iso_code)
data <- data %>%
dplyr::rename(Country = iso_code, Date = date)
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = iso_code, Date = date)
View(data)
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = iso_code, Date = date)%>%
mutate(Date = as.Date(Date))
df <- merge(x = df, y = data, by = c("Country", "Date"), all = TRUE)
View(df)
countries <- c("ARG","AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "CHN", "DEU", "ESP", "FIN", "FRA", "GBR", "HKG", "IDN", "IND", "IRL", "ISL", "ISR", "ITA", "KOR", "LTU", "MEX", "NLD", "NOR", "NZL", "PER", "PRT", "RUS", "SGP", "SWE", "TUR", "USA", "ZAF")
df <- data.frame(Country = character(), Date = character(), stringsAsFactors = FALSE)
df$Date <- as.Date(df$Date)
countries <- c("ARG","AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "CHN", "DEU", "ESP", "FIN", "FRA", "GBR", "HKG", "IDN", "IND", "IRL", "ISL", "ISR", "ITA", "KOR", "LTU", "MEX", "NLD", "NOR", "NZL", "PER", "PRT", "RUS", "SGP", "SWE", "TUR", "USA", "ZAF")
data <- read.csv(file = './data/Stock_data.csv', stringsAsFactors = FALSE)
data <- data %>%
filter(Country %in% countries)
df <- merge(x = df, y = data, by = c("Country", "Date"), all = TRUE)
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = iso_code, Date = date)%>%
mutate(Date = as.Date(Date)) %>%
filter(Country %in% countries)
df <- merge(x = df, y = data, by = c("Country", "Date"), all = TRUE)
View(df)
d
df <- df %>%
mutate(Date = as.Date(Date))
df <- data.frame(Country = character(), Date = character(), stringsAsFactors = FALSE)
df$Date <- as.Date(df$Date)
countries <- c("ARG","AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "CHN", "DEU", "ESP", "FIN", "FRA", "GBR", "HKG", "IDN", "IND", "IRL", "ISL", "ISR", "ITA", "KOR", "LTU", "MEX", "NLD", "NOR", "NZL", "PER", "PRT", "RUS", "SGP", "SWE", "TUR", "USA", "ZAF")
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = iso_code, Date = date)%>%
mutate(Date = as.Date(Date)) %>%
filter(Country %in% countries)
df <- merge(x = df, y = data, by = c("Country", "Date"), all.x = TRUE)
df <- df %>%
mutate(Date = as.Date(Date))
data <- read.csv(file = './data/Stock_data.csv', stringsAsFactors = FALSE)
data <- data %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(Date))
df <- merge(x = df, y = data, by = c("Country", "Date"), all.x = TRUE)
View(data)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
View(df)
View(df)
View(df)
View(df)
data <- read.csv(file = './data/Stock_data.csv', stringsAsFactors = FALSE)
data <- data %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(Date))
unique(data$Country)
View(data)
View(data)
fit <- lm(stock_change ~ stringency_index, df )
summary(fit)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
colnames(data)
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
colnames(data)
data <- read.csv(file = './data/google-trends-mobility-data.csv', stringsAsFactors = FALSE)
View(data)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
data <- read.csv(file = './data/google-trends-mobility-data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = Code) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(Date)) %>%
select(retail_and_recreation, residential)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
View(df)
data <- read.csv(file = './data/OECD_Population_Distribution.csv', stringsAsFactors = FALSE)
View(data)
data <- data %>%
dplyr::rename(Country = LOCATION) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(Date)) %>%
arrange(Country, TIME)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(Date)) %>%
arrange(Country, TIME)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(Date, format = "%Y")) %>%
arrange(Country, TIME)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME) %>%
filter(Country %in% countries) %>%
#mutate(Date = as.Date(Date, format = "%Y")) %>%
arrange(Country, TIME)
data <- read.csv(file = './data/OECD_Population_Distribution.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME) %>%
filter(Country %in% countries) %>%
#mutate(Date = as.Date(Date, format = "%Y")) %>%
arrange(Country, TIME)
data <- read.csv(file = './data/OECD_Population_Distribution.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME) %>%
filter(Country %in% countries) %>%
#mutate(Date = as.Date(Date, format = "%Y")) %>%
arrange(Country, TIME)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME) %>%
filter(Country %in% countries) %>%
#mutate(Date = as.Date(Date, format = "%Y")) %>%
arrange(Country, Date)
data <- spread(data, SUBJECT, Value)
data <- read.csv(file = './data/OECD_Population_Distribution.csv', stringsAsFactors = FALSE)
data <- data %>%
spread(SUBJECT, Value)
data <- read.csv(file = './data/OECD_Population_Distribution.csv', stringsAsFactors = FALSE)
data <- data %>%
spread(SUBJECT, Value) %>%
dplyr::rename(Country = LOCATION, Date = TIME, rural_pop = RURAL, urban_pop = URBAN, suburban_pop = INTMD) %>%
filter(Country %in% countries) %>%
#mutate(Date = as.Date(Date, format = "%Y")) %>%
arrange(Country, Date)
data <- data %>%
spread(SUBJECT, Value) %>%
dplyr::rename(Country = LOCATION, Date = TIME, rural_pop = RURAL, urban_pop = URBAN, suburban_pop = INTMD) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(Date, format = "%Y")) %>%
select(Country, Date, rural_pop, urban_pop, suburban_pop)
data <- read.csv(file = './data/OECD_Population_Distribution.csv', stringsAsFactors = FALSE)
data <- data %>%
spread(SUBJECT, Value) %>%
dplyr::rename(Country = LOCATION, Date = TIME, rural_pop = RURAL, urban_pop = URBAN, suburban_pop = INTMD) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(Date, format = "%Y")) %>%
select(Country, Date, rural_pop, urban_pop, suburban_pop)
unique(data$Date)
data <- read.csv(file = './data/OECD_Population_Distribution.csv', stringsAsFactors = FALSE)
data <- data %>%
spread(SUBJECT, Value) %>%
dplyr::rename(Country = LOCATION, Date = TIME, rural_pop = RURAL, urban_pop = URBAN, suburban_pop = INTMD) %>%
filter(Country %in% countries) %>%
#mutate(Date = as.Date(Date, format = "%Y")) %>%
select(Country, Date, rural_pop, urban_pop, suburban_pop)
unique(data$Date)
data <- read.csv(file = './data/OECD_Population_Distribution.csv', stringsAsFactors = FALSE)
data <- data %>%
spread(SUBJECT, Value) %>%
dplyr::rename(Country = LOCATION, Date = TIME, rural_pop = RURAL, urban_pop = URBAN, suburban_pop = INTMD) %>%
filter(Country %in% countries) %>%
#mutate(Date = as.Date(Date, format = "%Y")) %>%
select(Country, Date, rural_pop, urban_pop, suburban_pop)
df <- merge(x = df, y = data, by = c("Country"), all.x = TRUE)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
View(df)
View(df)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
data <- read.csv(file = './data/BCI.csv', stringsAsFactors = FALSE)
data <- read.csv(file = './data/OECD_BCI.csv', stringsAsFactors = FALSE)
data <- read.csv(file = './data/OECD_BCI.csv', stringsAsFactors = FALSE)
View(data)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
View(df)
data <- read.csv(file = './data/OECD_Population_Distribution.csv', stringsAsFactors = FALSE)
data <- data %>%
spread(SUBJECT, Value) %>%
dplyr::rename(Country = LOCATION, Date = TIME, rural_pop = RURAL, urban_pop = URBAN, suburban_pop = INTMD) %>%
filter(Country %in% countries) %>%
#mutate(Date = as.Date(Date, format = "%Y")) %>%
select(Country, rural_pop, urban_pop, suburban_pop)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
data <- read.csv(file = './data/OECD_Population_Distribution.csv', stringsAsFactors = FALSE)
data <- data %>%
spread(SUBJECT, Value) %>%
dplyr::rename(Country = LOCATION, Date = TIME, rural_pop = RURAL, urban_pop = URBAN, suburban_pop = INTMD) %>%
filter(Country %in% countries) %>%
#mutate(Date = as.Date(Date, format = "%Y")) %>%
select(Country, rural_pop, urban_pop, suburban_pop)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
data <- read.csv(file = './data/OECD_Population_Distribution.csv', stringsAsFactors = FALSE)
data <- spread(data, SUBJECT, Value)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME, rural_pop = RURAL, urban_pop = URBAN, suburban_pop = INTMD) %>%
filter(Country %in% countries) %>%
#mutate(Date = as.Date(Date, format = "%Y")) %>%
select(Country, rural_pop, urban_pop, suburban_pop)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
data <- read.csv(file = './data/OECD_BCI.csv', stringsAsFactors = FALSE)
unique(data$MEASURE)
unique(data$SUBJECT)
data <- read.csv(file = './data/OECD_BCI.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME, BCI = Value) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(Date, format = "%Y-%m")) %>%
mutate(Month = format(Date, format = "%m")) %>%
mutate(Year = format(Date, format = "%Y"))
select(Country, Month, Year, BCI)
data <- read.csv(file = './data/OECD_BCI.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME, BCI = Value) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(Date, format = "%Y-%m")) %>%
mutate(Month = format(Date, format = "%m")) %>%
mutate(Year = format(Date, format = "%Y")) %>%
select(Country, Month, Year, BCI)
df <- merge(x = df, y = data, by = c("Country", "Month", "Year"), all.x = TRUE)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
data <- read.csv(file = './data/OECD_BCI.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME, BCI = Value) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(Date, format = "%Y-%m")) %>%
mutate(Month = format(Date, format = "%m")) %>%
mutate(Year = format(Date, format = "%Y")) %>%
select(Country, Month, Year, BCI)
data
View(data)
View(data)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME, BCI = Value) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(Date, format = "%Y-%m")) %>%
mutate(Month = format(Date, format = "%m")) %>%
mutate(Year = format(Date, format = "%Y")) %>%
select(Country, Date, Month, Year, BCI)
data <- read.csv(file = './data/OECD_BCI.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME, BCI = Value) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(Date, format = "%Y-%m")) %>%
mutate(Month = format(Date, format = "%m")) %>%
mutate(Year = format(Date, format = "%Y")) %>%
select(Country, Date, Month, Year, BCI)
View(data)
View(data)
data <- read.csv(file = './data/OECD_BCI.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME, BCI = Value) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(paste(data$Date,"-01",sep=""), format = "%Y-%m-%d")) %>%
mutate(Month = format(Date, format = "%m")) %>%
mutate(Year = format(Date, format = "%Y")) %>%
select(Country, Date, Month, Year, BCI)
data <- read.csv(file = './data/OECD_BCI.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME, BCI = Value) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(paste(Date,"-01",sep=""), format = "%Y-%m-%d")) %>%
mutate(Month = format(Date, format = "%m")) %>%
mutate(Year = format(Date, format = "%Y")) %>%
select(Country, Date, Month, Year, BCI)
df <- merge(x = df, y = data, by = c("Country", "Month", "Year"), all.x = TRUE)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
data <- read.csv(file = './data/OECD_CCI.csv', stringsAsFactors = FALSE)
data <- read.csv(file = './data/OECD_CLI.csv', stringsAsFactors = FALSE)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
data <- read.csv(file = './data/OECD_Trust_In_Government.csv', stringsAsFactors = FALSE)
View(data)
data <- read.csv(file = './data/OECD_Trust_In_Government.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = LOCATION, trust_in_gov = Value) %>%
filter(Country %in% countries) %>%
filter(TIME == 2019) %>%
select(Country, trust_in_gov)
df <- merge(x = df, y = data, by = c("Country"), all.x = TRUE)
data <- read.csv(file = './data/OECD_Financial_Disincentives_To_Work.csv', stringsAsFactors = FALSE)
data <- read.csv(file = './data/OECD_Unemployment_Benefits.csv', stringsAsFactors = FALSE)
unique(data$SUBJECT)
data <- read.csv(file = './data/OECD_Unemployment_Benefits.csv', stringsAsFactors = FALSE)
data <- data %>%
spread(SUBJECT, Value) %>%
dplyr::rename(Country = LOCATION, Date = TIME, one_yr_unemp_bene = "1YEAR", two_mth_umemp_bene ="2MTH", two_yr_unemp_bene = "2YEAR", five_yr_unemp_bene = "5YEAR", six_mth_unemp_bene = "6MTH") %>%
filter(Date == 2019) %>%
filter(Country %in% countries) %>%
select(Country, one_yr_unemp_bene, two_mth_umemp_bene, two_yr_unemp_bene, five_yr_unemp_bene, six_mth_unemp_bene )
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
data <- read.csv(file = './data/oil_price_data.csv', stringsAsFactors = FALSE)
data <- read.csv(file = './data/oil_price_data.csv', stringsAsFactors = FALSE)
View(data)
data <- data %>%
dplyr::rename(oil_price = spot_price) %>%
mutate(Date = as.Date(Date, format = "%Y-%m-%d")) %>%
filter(Country %in% countries) %>%
select(Country, one_yr_unemp_bene, two_mth_umemp_bene, two_yr_unemp_bene, five_yr_unemp_bene, six_mth_unemp_bene )
data <- read.csv(file = './data/oil_price_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(oil_price = spot_price) %>%
mutate(Date = as.Date(Date, format = "%Y-%m-%d")) %>%
filter(Country %in% countries) %>%
select(Country, one_yr_unemp_bene, two_mth_umemp_bene, two_yr_unemp_bene, five_yr_unemp_bene, six_mth_unemp_bene )
data <- read.csv(file = './data/oil_price_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(oil_price = spot_price) %>%
mutate(Date = as.Date(Date, format = "%Y-%m-%d")) %>%
select(Date, oil_price)
data <- read.csv(file = './data/oil_price_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(oil_price = spot_price) %>%
mutate(Date = format(Date, format = "%Y-%m-%d")) %>%
select(Date, oil_price)
data <- data %>%
dplyr::rename(oil_price = spot_price) %>%
mutate(Date = format(Date, format = "%Y-%m-%d")) %>%
select(Date, oil_price)
data <- read.csv(file = './data/oil_price_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(oil_price = spot_price) %>%
mutate(Date = format(Date, format = "%Y-%m-%d")) %>%
select(Date, oil_price)
df <- merge(x = df, y = data, by = c("Date"), all.x = TRUE)
data <- read.csv(file = './data/oil_price_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(oil_price = spot_price) %>%
mutate(Date = as.Date(Date, format = "%m/%d/%Y")) %>%
select(Date, oil_price)
data <- read.csv(file = './data/oil_price_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(oil_price = WTI_spot_price) %>%
mutate(Date = as.Date(Date, format = "%m/%d/%Y")) %>%
select(Date, oil_price)
data <- read.csv(file = './data/oil_price_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(oil_price = WTI_spot_price) %>%
mutate(Date = as.Date(Date, format = "%m/%d/%y")) %>%
select(Date, oil_price)
df <- merge(x = df, y = data, by = c("Date"), all.x = TRUE)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
data <- read.csv(file = './data/OECD_Unemployment.csv', stringsAsFactors = FALSE)
data <- read.csv(file = './data/OECD_Unemployment.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME, unemployment = Value) %>%
filter(Country %in% countries) %>%
mutate(Date = as.Date(paste(Date,"-01",sep=""), format = "%Y-%m-%d")) %>%
mutate(Month = format(Date, format = "%m")) %>%
mutate(Year = format(Date, format = "%Y")) %>%
select(Country, Month, Year, unemployment)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
data <- read.csv(file = './data/OECD_Quarterly_GDP.csv', stringsAsFactors = FALSE)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = iso_code, Date = date)%>%
mutate(Date = as.Date(Date)) %>%
filter(Country %in% countries) %>%
select(Country, Date, stringency_index, aged_65_older, human_development_index, median_age, life_expectancy, population_density, extreme_poverty)
colnames(data)
df <- merge(x = df, y = data, by = c("Country", "Date"), all = TRUE)
df <- df %>%
mutate(Day = format(Date, format = "%d")) %>%
mutate(Month = format(Date, format = "%m")) %>%
mutate(Year = format(Date, format = "%Y")) %>%
mutate(Quarter = if_else(Month %in% c(1,2,3),1, if_else(Month %in% c(4,5,6),2,if_else(Month %in% c(7,8,9),3,if_else(Month %in% c(10,11,12),4,NA)))))
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = iso_code, Date = date)%>%
mutate(Date = as.Date(Date)) %>%
filter(Country %in% countries) %>%
select(Country, Date, stringency_index, aged_65_older, human_development_index, median_age, life_expectancy, population_density, extreme_poverty)
colnames(data)
df <- merge(x = df, y = data, by = c("Country", "Date"), all = TRUE)
df <- df %>%
mutate(Day = format(Date, format = "%d")) %>%
mutate(Month = format(Date, format = "%m")) %>%
mutate(Year = format(Date, format = "%Y")) %>%
mutate(Quarter = ifelse(Month %in% c(1,2,3),1, ifelse(Month %in% c(4,5,6),2,ifelse(Month %in% c(7,8,9),3,ifelse(Month %in% c(10,11,12),4,NA)))))
data <- read.csv(file = './data/lockdown_and_covid_rate_data.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = iso_code, Date = date)%>%
mutate(Date = as.Date(Date)) %>%
filter(Country %in% countries) %>%
select(Country, Date, stringency_index, aged_65_older, human_development_index, median_age, life_expectancy, population_density, extreme_poverty)
colnames(data)
df <- merge(x = df, y = data, by = c("Country", "Date"), all = TRUE)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
data <- read.csv(file = './data/OECD_Quarterly_GDP.csv', stringsAsFactors = FALSE)
data <- read.csv(file = './data/OECD_Quarterly_GDP.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME, GDP_change = Value) %>%
filter(Country %in% countries) %>%
mutate(Quarter = str_split(file, "[-Q]")[[1]][2]) %>%
mutate(Year = str_split(file, "[-Q]")[[1]][1]) %>%
select(Country, Month, Year, unemployment)
data <- read.csv(file = './data/OECD_Quarterly_GDP.csv', stringsAsFactors = FALSE)
data <- data %>%
dplyr::rename(Country = LOCATION, Date = TIME, GDP_change = Value) %>%
filter(Country %in% countries) %>%
mutate(Quarter = str_split(Date, "-Q")[[1]][2]) %>%
mutate(Year = str_split(Date, "-Q")[[1]][1]) %>%
select(Country, Quarter, Year, GDP_change)
data <- read.csv(file = './data/OECD_Quarterly_GDP.csv', stringsAsFactors = FALSE)
data <- read.csv(file = './data/IMF_Stimulus_Data.csv', stringsAsFactors = FALSE)
colnames(data)
data <- read.csv(file = './data/IMF_Stimulus_Data.csv', stringsAsFactors = FALSE)
colnames(data)
data <- data %>%
dplyr::rename(stimulus_spending_pct_gdp = Total.Stimulus.Spending.Percent.GDP, liquidity_support_pct_gdp = Total.Liquidity.Support.Percent.GDP, health_stimulus_spending_pct_gdp = Total.Stimulus.Spending.in.Health.Sector.Percent.GDP) %>%
filter(Country %in% countries) %>%
select(Country,stimulus_spending_pct_gdp , liquidity_support_pct_gdp, health_stimulus_spending_pct_gdp)
df <- merge(x = df, y = data, by = c("Country"), all.x = TRUE)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
source('~/Documents/Joe 2020-2021/21W/QSS Project/QSS82-Team9/scripts/data_cleaning_3.R', echo=TRUE)
